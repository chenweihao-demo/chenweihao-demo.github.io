(function(t){function e(e){for(var i,n,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&d.push(s[n][0]),s[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,n=1;n<a.length;n++){var r=a[n];0!==s[r]&&(i=!1)}i&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var i={},n={app:0},s={app:0},o=[];function r(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0b635c":"813d2139","chunk-2d2257ac":"d94688e4","chunk-9fe773ac":"3fe8bcef"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-9fe773ac":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var i="css/"+({}[t]||t)+"."+{"chunk-2d0b635c":"31d6cfe0","chunk-2d2257ac":"31d6cfe0","chunk-9fe773ac":"04c627e4"}[t]+".css",s=c.p+i,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var l=o[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===s))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===i||u===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var i=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=i,delete n[t],p.parentNode.removeChild(p),a(o)},p.href=s;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){n[t]=0})));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var o=new Promise((function(e,a){i=s[t]=[e,a]}));e.push(i[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=s[t];if(0!==a){if(a){var i=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",d.name="ChunkLoadError",d.type=i,d.request=n,a[1](d)}s[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(a,i,function(e){return t[e]}.bind(null,i));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0106":function(t,e,a){"use strict";var i=a("a8c7"),n=a.n(i);n.a},"0fb2":function(t,e,a){},1:function(t,e){},"106b":function(t,e,a){},"15e7":function(t,e,a){},1805:function(t,e,a){"use strict";var i=a("6238"),n=a.n(i);n.a},1884:function(t,e,a){"use strict";var i=a("52aa"),n=a.n(i);n.a},"1dee":function(t,e,a){"use strict";var i=a("0fb2"),n=a.n(i);n.a},"22ba":function(t,e,a){},2395:function(t,e,a){},"2a4b":function(t,e,a){"use strict";var i=a("dc37"),n=a.n(i);n.a},"2f01":function(t,e,a){},"35f0":function(t,e,a){},"439d":function(t,e,a){"use strict";var i=a("e40d"),n=a.n(i);n.a},"45e9":function(t,e,a){},"52aa":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=(a("d3b7"),a("bc3a")),s=a.n(n),o={baseURL:"https://api.kele8.cn/agent/https://app.vmovier.com"},r=s.a.create(o);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t,e){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},i["a"].use(Plugin);Plugin;var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("keep-alive",[a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("van-nav-bar",{attrs:{border:"",fixed:"",placeholder:!0},scopedSlots:t._u([{key:"left",fn:function(){return[a("div",{staticClass:"icon-img",on:{click:t.routeToDayCover}},[a("span",{staticClass:"date"},[t._v(t._s(t.data>=10?t.data:"0"+t.data))])])]},proxy:!0},{key:"title",fn:function(){return[a("van-tabs",{on:{click:t.navClickHandle},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"发现",name:"home"}}),a("van-tab",{attrs:{title:"频道",name:"channel"}}),a("van-tab",{attrs:{title:"我的",name:"profile"}})],1)]},proxy:!0},{key:"right",fn:function(){return[a("van-icon",{attrs:{name:"search"},on:{click:t.routeToSearch}})]},proxy:!0}])})],1),t.$route.meta.isKeep?t._e():a("router-view"),a("keep-alive",[t.$route.meta.isKeep?a("router-view"):t._e()],1)],1)])},l=[],u=(a("c975"),a("45fc"),a("b0c0"),a("ac1f"),a("1276"),a("5530")),d=a("2f62"),p=a("6380"),h=new Date;h=h.getDate();var f={data:function(){return{active:"home",iconImg:a.e("chunk-2d2257ac").then(a.t.bind(null,"e528",7)),data:h}},computed:Object(u["a"])({},Object(d["d"])({userData:function(t){return t.userData}})),created:function(){var t=JSON.parse(window.localStorage.getItem("userStorage"));t&&(this.$store.commit(p["a"].USER_DATA,{data:t.data}),this.verificationFn())},mounted:function(){this.navClickHandle(this.active)},methods:Object(u["a"])(Object(u["a"])({},Object(d["c"])([p["a"].USER_DATA,p["a"].USER])),{},{navClickHandle:function(t){switch(t){case"home":if("/"==this.$route.path)return;this.$router.push("/");break;case"channel":if("/channel"==this.$route.path)return;this.$router.push("/channel");break;case"profile":if("/profile"==this.$route.path)return;this.$router.push("/profile");break}},routeToDayCover:function(){this.$router.push("/dayCover")},routeToSearch:function(){this.$router.push("/search")},getMessage:function(t,e){for(var a=t.split("; "),i=0;i<a.length;i++)if(a[i].indexOf(e)>-1){var n=a[i].split("=");return JSON.parse(n[1])}},verificationFn:function(){var t=this.getMessage(document.cookie,"_abc"),e=this.userData.some((function(e){return e.name==t.name})),a=this.userData.some((function(e){return e.password==t.password}));if(e&&a){var i=JSON.parse(window.localStorage.getItem(t.name));i&&this.$store.commit(p["a"].USER,{data:i.data})}}})},m=f,v=(a("7c55"),a("2877")),_=Object(v["a"])(m,c,l,!1,null,null,null),g=_.exports,b=a("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},[t.banner?t._l(t.banner.list,(function(e,i){return a("van-swipe-item",{key:i,on:{click:function(a){return t.toRouterFn(e,a)}}},[a("img",{attrs:{src:e.image,alt:""}})])})):t._e()],2),t.today?a("HomeSection",{attrs:{items:t.today.list}},[t._v("今日")]):t._e(),t.hot?a("HomeSection",{attrs:{items:t.hot.list,special:!0}},[t._v("热门")]):t._e(),t.album?a("HomeSection",{attrs:{items:t.album.list}},[t._v("专题")]):t._e(),t.posts?a("HomeSection",{attrs:{items:t.posts.list}},[t._v(t._s(t.posts.selection_title))]):t._e(),a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":t.immediatecheck},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.historyData,(function(e,i){return a("section",{key:i},[a("HomeSection",{attrs:{items:e.list}},[t._v(t._s(e.selection_title))])],1)})),0),t.isLoad&&t.Rendering?a("div",{staticClass:"loading"},[a("van-loading")],1):t._e()],1)},w=[],T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section",class:{special:t.special}},[a("h3",[t._t("default")],2),t._l(t.items,(function(t,e){return a("HomeCard",{key:e,attrs:{item:t}})}))],2)},C=[],O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card",on:{click:function(e){return t.toRouterFn(e)}}},[a("van-image",{staticStyle:{width:"100%"},attrs:{fit:"cover","lazy-load":"",src:t.item.image}}),a("div",{staticClass:"mask"}),a("dl",[a("dt",[t._l(t.item.cates,(function(e,i){return a("span",{key:i},[t._v(t._s(e.catename)+" / ")])})),a("span",[t._v(t._s(t.parseTime(t.item.duration)))])],2),a("dd",[t._v(t._s(t.item.title))])])],1)},S=[],k={props:["item"],methods:{parseTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseInt(t/60)+"'"+t%60+'"'},toRouterFn:function(t){for(var e,a,i=0;i<t.path.length;i++)"card"==t.path[i].className&&(e=t.path[i]),"html"==t.path[i].localName&&(a=t.path[i]);this.$router.push({path:"play",query:{postid:this.item.postid,top:e.offsetTop-a.scrollTop,img:this.item.image}})}}},D=k,E=(a("da72"),Object(v["a"])(D,O,S,!1,null,"a33389d4",null)),x=E.exports,A={props:["items","special"],components:{HomeCard:x}},j=A,I=(a("f679"),Object(v["a"])(j,T,C,!1,null,"16940403",null)),$=I.exports,R={name:"Home",data:function(){return{list:[],isLoad:!0,loading:!1,finished:!1,immediatecheck:!1,Rendering:!0}},components:{HomeSection:$},computed:Object(u["a"])({},Object(d["d"])({banner:function(t){return t.indexData.banner},album:function(t){return t.indexData.album},hot:function(t){return t.indexData.hot},posts:function(t){return t.indexData.posts},today:function(t){return t.indexData.today},historyData:function(t){return t.historyData}})),methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])([p["a"].INIT_INDEX_DATA,p["a"].GET_MORE_HISTORY_DATA])),{},{onLoad:function(){var t=this;this.GET_MORE_HISTORY_DATA((function(e,a){t.loading=!1,"ok"==a.data.msg&&e.commit(p["a"].GET_MORE_HISTORY_DATA,{data:a.data.data})}))},toRouterFn:function(t,e){this.$router.push({path:"Play",query:{postid:t.extra_data.app_banner_param,img:t.image,top:46}})}}),created:function(){var t=this;this.INIT_INDEX_DATA((function(){t.isLoad=!1}))},mounted:function(){this.Rendering=!1}},N=R,L=(a("1884"),Object(v["a"])(N,y,w,!1,null,"93103a9a",null)),H=L.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"play"},[a("div",{staticClass:"back",on:{click:t.onClickBack}},[a("van-icon",{attrs:{size:"20",name:"arrow-left"}})],1),a("div",{staticClass:"play-box"},[a("div",{staticClass:"wrap-box"},[a("div",{staticClass:"vo-box"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoad,expression:"!isLoad"}],staticClass:"vide-box"},[!t.isLoad&&t.isVodeo?a("Videoer",{attrs:{post:t.postView}}):t._e()],1),a("transition",{attrs:{css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,leave:t.leave}},[t.isImg?a("div",{staticClass:"img-box"},[a("img",{staticClass:"vo-img",attrs:{src:t.img,alt:""}})]):t._e()])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoad,expression:"!isLoad"}],staticClass:"play-content"},[t.isLoad?t._e():a("div",{staticClass:"content-big"},[t.postView.title?a("div",{staticClass:"introduce"},[a("h4",{staticClass:"title"},[t._v(t._s(t.postView.title))]),a("div",{staticClass:"info"},[t._v(t._s(t.postView.cate[0])+" / "+t._s(t.parseTime(t.postView.duration)))]),a("div",{staticClass:"content"},[t._v(t._s(t.postView.intro))]),a("div",{staticClass:"more"},[t._v("阅读全文→")])]):t._e(),t.postView.author?a("div",{staticClass:"author"},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.postView.author.profile.avatar}})]),a("div",{staticClass:"author-info"},[a("div",{staticClass:"name"},[t._v(t._s(t.postView.author.profile.username))]),t.postView.author.roles?a("div",{staticClass:"occupation"},[t._v("片中职位："+t._s(t.postView.author.roles))]):t._e()]),a("div",{staticClass:"icon-more"},[a("van-icon",{attrs:{name:"arrow"}})],1)]):t._e(),t.postView.relate_video?a("div",{staticClass:"recommend"},t._l(t.postView.relate_video,(function(e,i){return a("div",{key:i,staticClass:"recommend-warp"},[a("h4",{staticClass:"h3"},[t._v(t._s(e.name))]),a("div",{staticClass:"roll-box",attrs:{id:"roll"+i}},t._l(e.list,(function(e,i){return a("div",{key:i,staticClass:"card",on:{click:function(a){return t.toRouterFn(e,a)}}},[a("van-image",{staticStyle:{width:"100%"},attrs:{fit:"cover",src:e.image}}),a("div",{staticClass:"content"},[a("div",{staticClass:"time"},[t._v(t._s(t.parseTime(e.duration)))]),a("div",{staticClass:"title"},[t._v(t._s(e.title))])])],1)})),0)])})),0):t._e(),t.postView.comment.list?a("div",{staticClass:"comment-play"},[a("div",{staticClass:"total"},[t._v(t._s(t.postView.comment.total)+" 条评论")]),a("div",{staticClass:"comment-conten"},t._l(t.postView.comment.list,(function(t,e){return a("comment",{key:e,attrs:{commentData:t}})})),1)]):t._e(),a("div",{staticClass:"Collection-box"},[a("div",{staticClass:"input-Collection"},[a("van-field",{attrs:{shape:"round","left-icon":"edit",placeholder:"输入内容"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.myValue,callback:function(e){t.myValue=e},expression:"myValue"}})],1),a("div",{staticClass:"icon-Collection",on:{click:t.likeFn}},[t.like?a("van-icon",{attrs:{name:"like",size:"20",color:"#ee0a24"}}):a("van-icon",{attrs:{name:"like-o",size:"20",color:"#969799"}})],1)])])]),t.isLoad?a("div",{staticClass:"loading"},[a("van-loading",{attrs:{color:"#1989fa"}})],1):t._e()])])},q=[],G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"videoer"},[a("video-player",{ref:"videoPlayer",staticClass:"video-player vjs-custom-skin",attrs:{playsinline:!0,options:t.playerOptions}})],1)},V=[],W={props:{post:Object},data:function(){return{playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{type:"video/mp4",src:this.post.content_video[0].progressive[0].https_url}],poster:this.post.image,notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},created:function(){},computed:{player:function(){return this.$refs.videoPlayer.player}},watch:{videoUrl:function(t){""!==t&&this.$refs.videoPlayer.player.src(t)},poster:function(t,e){t&&this.$refs.videoPlayer.player.poster(t)}}},M=W,U=(a("1dee"),Object(v["a"])(M,G,V,!1,null,"1b8e8d46",null)),z=U.exports,J=a("bcc2"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comment"},[a("div",{staticClass:"pic"},[a("img",{attrs:{src:t.commentData.userinfo.avatar,alt:""}})]),a("div",{staticClass:"info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"who-mesg"},[a("div",{staticClass:"who"},[t._v(t._s(t.commentData.userinfo.username))]),a("div",{staticClass:"date"},[t._v(t._s(t.parseData(t.commentData.addtime)))])]),a("div",{staticClass:"zan"},[a("van-icon",{attrs:{name:"good-job-o"}}),t._v(" "+t._s(t.commentData.count_approve)+" ")],1)]),a("div",{staticClass:"content"},[a("div",{staticClass:"comment-content"},[t.commentData.reply_userinfo?a("span",[t._v("回复 "+t._s(t.commentData.reply_userinfo.username)+"：")]):t._e(),t._v(" "+t._s(t.commentData.content)+" ")]),t.commentData.subcomment?a("div",t._l(t.commentData.subcomment,(function(t,e){return a("comment",{key:e,attrs:{commentData:t}})})),1):t._e()])])])},Y=[],B={name:"Comment",components:{},props:{commentData:Object},methods:{parseData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=new Date;return e.setTime(1e3*t),e.getMonth()+1+"月"+e.getDate()+"日"}}},K=B,X=(a("1805"),Object(v["a"])(K,F,Y,!1,null,"fbf786b6",null)),Z=X.exports,Q=a("d399"),tt={name:"Play",data:function(){return{myValue:"",like:!1,scrollTop:0,voTop:0,voleft:0,voW:0,voH:0,isImg:!0,img:"",isLoad:!0,isVodeo:!0,jumpMode:"forward"}},components:{comment:Z,Videoer:z},computed:Object(u["a"])({},Object(d["d"])({postView:function(t){return t.postView},user:function(t){return t.user}})),created:function(){var t=this;this.$route.query&&(this.img=this.$route.query.img,this.scrollTop=this.$route.query.scrollTop||0,this.voTop=this.$route.query.top,this.voleft=this.$route.query.left,this.voW=this.$route.query.w,this.voH=this.$route.query.h),this.isImg=!1,this.user&&(this.like=this.user.collection.some((function(e){return e.postid==t.postView.postid})))},mounted:function(){this.isImg=!0,window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",this.onBack,!0))},updated:function(){var t=this;this.user&&(this.like=this.user.collection.some((function(e){return e.postid==t.postView.postid})))},destroyed:function(){window.removeEventListener("popstate",this.onBrowserBack,!1)},methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(d["c"])([p["a"].SET_COLLECTION,p["a"].SET_SEE_HISTORY])),Object(d["b"])([p["a"].GET_POSET_VIEW_DATA])),{},{submit:function(){if(this.myValue)if(this.user){var t=new Date,e=t.valueOf()/1e3,a={addtime:e,commentid:0,content:this.myValue,count_approve:0,has_approve:0,isrecommend:0,userinfo:{author_type:0,avatar:"https://b.yzcdn.cn/vant/icon-demo-1126.png",isAdministrator:!1,is_editor:"0",isadmin:"0",mcard_url:"",username:this.user.name}};this.postView.comment.list.unshift(a),this.myValue=""}else Object(Q["a"])("用户未登陆！")},likeFn:function(){this.user?(this.like=!this.like,this.like,this.$store.commit(p["a"].SET_COLLECTION,{data:this.postView})):Object(Q["a"])("用户未登陆！")},updataFn:function(t){var e=this;this.isVodeo=!1;var a=t.query.postid;this.GET_POSET_VIEW_DATA({id:a,callback:function(t,a){"OK"!=a.data.msg&&"ok"!=a.data.msg||(e.isLoad=!1,setTimeout((function(){e.isVodeo=!0}),1)),t.commit(p["a"].GET_POSET_VIEW_DATA,{data:a.data.data}),e.$store.commit(p["a"].SET_SEE_HISTORY,{data:a.data.data})}})},parseTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseInt(t/60)+"'"+t%60+'"'},toRouterFn:function(t,e){this.jumpMode="forward",this.isImg=!1;for(var a,i,n,s=e.path,o=0;o<s.length-1;o++)"roll-box"==s[o].className&&(a=s[o]),"card"==s[o].className&&(i=s[o]),"play"==s[o].className&&(n=s[o]);this.$router.push({path:"/play",query:{postid:t.postid,scrollTop:n.scrollTop,rollid:a.id,rollbox:a.scrollLeft,top:e.clientY-e.offsetY,left:e.clientX-e.offsetY,w:i.clientWidth,h:i.clientHeight,img:t.image}})},beforeEnter:function(t){t.style.top=this.voTop+"px",t.style.left=this.voleft+"px",t.style.width=this.voW+"px",t.style.height=this.voH+"px",t.style.zIndex=200,"back"==this.jumpMode&&(t.style.display="none",t.style.zIndex=200)},enter:function(t,e){var a=this;if("back"==this.jumpMode)return Object(J["a"])(t,{top:"0px",left:"0px",width:this.$el.querySelector(".vo-box").clientWidth,height:this.$el.querySelector(".vo-box").clientHeight,display:"none"},{duration:0}),void Object(J["a"])(t,{top:"0px",left:"0px",width:this.$el.querySelector(".vo-box").clientWidth,height:this.$el.querySelector(".vo-box").clientHeight,display:"block"},{duration:0},{complete:e});Object(J["a"])(t,{top:"0px",left:"0px",width:this.$el.querySelector(".vo-box").clientWidth,height:this.$el.querySelector(".vo-box").clientHeight,display:"block",zIndex:0},{duration:300},{complete:e}),setTimeout((function(){a.updataFn(a.$route)}),600)},leave:function(t,e){"back"==this.jumpMode?(this.updataFn(this.$route),Object(J["a"])(t,{top:"0px",left:"0px",width:this.$el.querySelector(".vo-box").clientWidth,height:this.$el.querySelector(".vo-box").clientHeight,display:"block",zIndex:200},{duration:300},{complete:e}),Object(J["a"])(t,{top:this.voTop+"px",left:this.voleft+"px",width:this.voW+"px",height:this.voH+"px",display:"none",zIndex:0},{duration:300},{complete:e})):Object(J["a"])(t,{top:"0px"},{duration:300},{complete:e})},onClickBack:function(){this.jumpMode="back",this.$router.back()},onBack:function(){this.$route.query.postid==this.postView.postid&&history.back(),this.jumpMode="back"}}),watch:{$route:function(t,e){}},beforeRouteUpdate:function(t,e,a){var i=this;"Play"==e.name?setTimeout((function(){"forward"==i.jumpMode?(i.img=t.query.img,i.voTop=t.query.top,i.voleft=t.query.left,i.voW=t.query.w,i.voH=t.query.h,i.$el.scrollTop=t.query.scrollTop||0,setTimeout((function(){i.isImg=!0}),300),i.isLoad=!0):(i.img=e.query.img,i.voTop=e.query.top,i.voleft=e.query.left,i.voW=e.query.w,i.voH=e.query.h,i.$el.scrollTop=e.query.scrollTop||0,i.$el.querySelector("#"+e.query.rollid).scrollLeft=e.query.rollbox||0,i.isImg=!0,setTimeout((function(){i.isImg=!1}),300),i.updataFn(i.$route))}),1):history.back(),a()}},et=tt,at=(a("0106"),Object(v["a"])(et,P,q,!1,null,"f9bdf910",null)),it=at.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"posts"},[a("van-nav-bar",{attrs:{fixed:!0,title:t.title,"left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"posts-box"},[t._l(t.recdata,(function(t,e){return a("Postcard",{key:e,attrs:{post:t}})})),a("van-list",{attrs:{finished:t.finished,"immediate-check":t.immediatecheck,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.posts,(function(t,e){return a("Postcard",{key:e,attrs:{post:t}})})),1),t.showLoading?a("van-loading",{attrs:{size:"18px","text-size":"10px",color:"#1989fa"}},[t._v("加载中...")]):t._e()],2)],1)},st=[],ot=(a("99af"),a("2909")),rt=a("f564"),ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"postcard"},[a("div",{staticClass:"postitem",on:{click:function(e){return t.navigateToPlay(e)}}},[a("van-image",{staticStyle:{width:"100%"},attrs:{fit:"cover","lazy-load":"",src:t.post.image}}),a("div",{staticClass:"info"},[a("div",[t._v(t._s(t.parseCates(t.post.cates))+" / "+t._s(t.parseTime(t.post.duration)))]),a("div",[t._v(t._s(t.post.title))])])],1)])},lt=[],ut=(a("a15b"),a("d81d"),{props:{post:Object},methods:{navigateToPlay:function(t){for(var e,a=t.path[0],i=0;i<t.path.length;i++)"postitem"==t.path[i].className&&(e=t.path[i]),t.path[i].scrollTop>0&&(a=t.path[i]);var n=a.scrollTop||0;this.$router.push({path:"play",query:{postid:this.post.postid,scrollTop:n,top:e.offsetTop-n,left:0,img:this.post.image}})},parseCates:function(t){return t?t.map((function(t){return t.catename})).join(","):""},parseTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return parseInt(t/60)+"'"+t%60+'"'}}}),dt=ut,pt=(a("7062"),Object(v["a"])(dt,ct,lt,!1,null,"65deefcf",null)),ht=pt.exports,ft={data:function(){return{title:"",page:1,posts:[],showLoading:!0,hasMore:!1,loading:!1,finished:!1,immediatecheck:!1,Rendering:!0}},computed:Object(u["a"])({},Object(d["d"])({recdata:function(t){return t.postsData}})),methods:Object(u["a"])(Object(u["a"])(Object(u["a"])({},Object(d["c"])([p["a"].GET_POSTS_DATA])),Object(d["b"])([p["a"].GET_POSTS_DATA])),{},{getPostsByRecdata:function(t){var e=this,a=isNaN(t)?"/apiv3/post/getPostByTab?p=".concat(this.page,"&size=10&tab=").concat(t):"/apiv3/post/getPostInCate?p=".concat(this.page,"&size=10&cateid=").concat(t);this.GET_POSTS_DATA({url:a,recdata:t,page:this.page,callback:function(t,a){e.loading=!1,e.showLoading=!1,a.length?e.posts=a:(e.page>1&&(e.posts=[].concat(Object(ot["a"])(e.posts),Object(ot["a"])(a.data.data))),"OK"!==a.data.msg&&(Object(rt["a"])("没有更多内容了"),e.hasMore=!0))}})},onLoad:function(){this.page=this.page+1;var t=this.$route.query.recdata;this.hasMore?(Object(rt["a"])("没有更多内容"),this.finished=!0):(this.page=this.page+1,this.getPostsByRecdata(t))},onClickLeft:function(){this.$router.back(),this.$store.commit(p["a"].GET_POSTS_DATA,{data:{}})}}),created:function(){},mounted:function(){},beforeRouteEnter:function(t,e,a){a((function(t){var e=t.$route.query.recdata;t.title=t.$route.query.title,t.getPostsByRecdata(e)}))},components:{Postcard:ht}},mt=ft,vt=(a("e12a"),Object(v["a"])(mt,nt,st,!1,null,"e8415a48",null)),_t=vt.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"me"},[i("div",{staticClass:"me-box"},[i("div",{staticClass:"header-me"},[i("img",{attrs:{src:a("71c4"),alt:""}}),i("div",{staticClass:"denglu",on:{click:t.routeToLogin}},[i("van-icon",{attrs:{size:"50px",name:"https://b.yzcdn.cn/vant/icon-demo-1126.png"}}),i("div",[t._v(t._s(t.name))])],1)]),i("div",{staticClass:"content-me"},[i("div",{staticClass:"icon-line",on:{click:t.routeToLike}},[i("div",{staticClass:"line-l"},[i("van-icon",{attrs:{name:"like-o",size:"16px"}}),i("div",{staticClass:"title-line"},[t._v("我的喜欢")])],1),i("div",{staticClass:"line-r"},[i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"icon-line"},[i("div",{staticClass:"line-l",on:{click:t.routerToHistory}},[i("van-icon",{attrs:{name:"clock-o",size:"16px"}}),i("div",{staticClass:"title-line"},[t._v("播放历史")])],1),i("div",{staticClass:"line-r"},[i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"icon-line"},[i("div",{staticClass:"line-l",on:{click:t.Tips}},[i("van-icon",{attrs:{name:"down",size:"16px"}}),i("div",{staticClass:"title-line"},[t._v("离线缓存")])],1),i("div",{staticClass:"line-r"},[i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"icon-line"},[i("div",{staticClass:"line-l",on:{click:t.Tips}},[i("van-icon",{attrs:{name:"smile-comment-o",size:"16px"}}),i("div",{staticClass:"title-line"},[t._v("我的消息")])],1),i("div",{staticClass:"line-r"},[i("van-icon",{attrs:{name:"arrow"}})],1)])]),i("div",{staticClass:"fooder-me"},[i("div",{staticClass:"icon-line",on:{click:t.Tips}},[i("div",{staticClass:"line-l"},[i("van-icon",{attrs:{name:"setting-o",size:"16px"}}),i("div",{staticClass:"title-line"},[t._v("设置")])],1),i("div",{staticClass:"line-r"},[i("van-icon",{attrs:{name:"arrow"}})],1)]),i("div",{staticClass:"icon-line"},[i("div",{staticClass:"line-l",on:{click:t.Tips}},[i("van-icon",{attrs:{name:"edit",size:"16px"}}),i("div",{staticClass:"title-line"},[t._v("问题反馈")])],1),i("div",{staticClass:"line-r"},[i("van-icon",{attrs:{name:"arrow"}})],1)])])]),i("router-view")],1)},bt=[],yt={data:function(){return{img:Promise.resolve().then(a.t.bind(null,"71c4",7)),name:"点击登录"}},computed:Object(u["a"])({},Object(d["d"])({user:function(t){return t.user}})),methods:{Tips:function(){Object(Q["a"])("客官，功能未完善，请见谅！")},routeToLogin:function(){"点击登录"==this.name?this.$router.push("/login"):this.$router.push("/user")},routeToLike:function(){this.$router.push("/like")},routerToHistory:function(){this.$router.push("/history")}},created:function(){this.user?this.name=this.user.name:this.name="点击登录"},mounted:function(){}},wt=yt,Tt=(a("8a53"),Object(v["a"])(wt,gt,bt,!1,null,"10f93586",null)),Ct=Tt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"search-input"},[a("van-search",{attrs:{background:t.showkw?"#000":"rgba(34, 33, 33, 0.762)","show-action":"",placeholder:"请输入搜索关键词"},on:{search:function(e){return t.onSearch(t.value)},cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.showkw?a("div",{staticClass:"search-keyword"},[a("div",{staticClass:"hot-box"},[a("div",{staticClass:"h3"},[t._v("热门搜索")]),a("div",{staticClass:"hot-content"},t._l(t.hotWord.recommend_keywords,(function(e,i){return a("span",{key:i,staticClass:"keyworld",on:{click:function(a){return t.onSearch(e.kw)}}},[t._v(t._s(e.kw))])})),0)]),a("div",{staticClass:"history-box"},[a("div",{staticClass:"h3"},[t._v(" 搜索历史 "),a("div",{staticClass:"clearall",on:{click:t.clearFn}},[a("span",{staticClass:"clear-text"},[t._v("清除")]),a("van-icon",{attrs:{name:"delete",color:"#969799",size:"12px"}})],1)]),a("div",{staticClass:"hot-content"},[t.historyWords.length>0?a("div",t._l(t.historyWords,(function(e,i){return a("div",{key:i,staticClass:"keyworld",on:{click:function(a){return t.onSearch(e)}}},[t._v(t._s(e))])})),0):a("div",{staticClass:"wu"},[t._v("还没有任何搜索记录")])])])]):t._e(),t.showkw?t._e():a("div",{staticClass:"searc-result"},[t.showloading?a("div",{staticClass:"loadingsearch"},[a("van-loading",{attrs:{color:"#1989fa"}})],1):t._e(),t.showloading?t._e():a("div",[a("div",{staticClass:"h4"},[t._v(t._s(t.searchData[0].result.total)+"个相关影片")]),a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.searchData,(function(e,i){return a("div",{key:i,staticClass:"result-all"},t._l(e.result.list,(function(t,e){return a("Postcard",{key:e,attrs:{post:t}})})),1)})),0)],1)])])},St=[],kt=a("2241"),Dt={data:function(){return{historyWords:[],value:"",loading:!1,showkw:!0,finished:!1,showloading:!0}},computed:Object(u["a"])({},Object(d["d"])({searchData:function(t){return t.searchData},hotWord:function(t){return t.hotWord}})),created:function(){this.GET_HOT_WORD_DATA(),this.setHistoryWords("","0")},watch:{value:function(t){""==t&&(this.showkw=!0)}},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])([p["a"].GET_HOT_WORD_DATA,p["a"].GET_SEARCH_DETAILS,p["a"].GET_SEARCH_DETAILS_MORE])),{},{setHistoryWords:function(t,e){var a=window.localStorage.getItem("historywords");if(a){a=JSON.parse(a);var i=a.data.some((function(e){return e==t}));switch(e){case"+":this.value=t,i||(a.data.push(t),window.localStorage.setItem("historywords",JSON.stringify({data:a.data})),this.historyWords=a.data);break;case"-":a.data.length=0,window.localStorage.setItem("historywords",JSON.stringify({data:a})),this.historyWords=a.data;break;default:this.historyWords=a.data;break}}else{if(""==t)return;window.localStorage.setItem("historywords",JSON.stringify({data:[t]})),this.historyWords=[t]}},getSearchDetails:function(t){var e=this;this.showkw=!1,this.value=t,this.GET_SEARCH_DETAILS({more:t,callback:function(t,a){"ok"==a.data.msg&&(t.commit(p["a"].GET_SEARCH_DETAILS,{data:a.data.data}),e.showloading=!1)}})},getMore:function(){var t=this;this.GET_SEARCH_DETAILS_MORE((function(e,a){"ok"==a.data.msg?(e.commit(p["a"].GET_SEARCH_DETAILS_MORE,{data:a.data.data}),t.loading=!1):Object(rt["a"])("没有更多内容了")}))},hidenResult:function(t){""==t.detail&&(this.showkw=!0)},onSearch:function(t){this.showloading=!0,this.getSearchDetails(t),this.setHistoryWords(t,"+")},onCancel:function(){this.showkw=!0,this.$router.back()},clearFn:function(){var t=this;kt["a"].confirm({message:"清空搜索记录？"}).then((function(){t.setHistoryWords(1,"-")})).catch((function(){}))},clearall:function(){this.setHistoryWords(1,"-")},onLoad:function(){this.getMore()}}),components:{Postcard:ht}},Et=Dt,xt=(a("439d"),Object(v["a"])(Et,Ot,St,!1,null,"834f5892",null)),At=xt.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dayCover"},[a("div",{staticClass:"nav",on:{click:t.onClickBack}},[a("van-icon",{attrs:{name:"cross",size:"25",color:"#fff"}})],1),t.dayCoverData?a("div",{staticClass:"getDayCover",style:"background-image:url("+t.dayCoverData.image_blurred+")"},[a("div",{staticClass:"content-box"},[a("div",{staticClass:"top-box",style:"background-image:url("+t.dayCoverData.image+")"},[a("div",{staticClass:"time"},[a("div",{staticClass:"day"},[t._v(t._s(t.dayCoverData.time.day))]),a("div",{staticClass:"day-box"},[a("div",{staticClass:"month"},[t._v(t._s(t.dayCoverData.time.month))]),a("div",{staticClass:"week"},[t._v(t._s(t.dayCoverData.time.week))])])])]),a("div",{staticClass:"bottom-box"},[a("div",{staticClass:"title"},[t._v(t._s(t.dayCoverData.title))]),a("div",{staticClass:"content"},[t._v(t._s(t.dayCoverData.content))]),a("div",{staticClass:"analysis",on:{click:function(e){t.showShare=!0}}})])])]):t._e(),a("van-share-sheet",{attrs:{title:"立即分享给好友",options:t.options},on:{select:t.onSelect},model:{value:t.showShare,callback:function(e){t.showShare=e},expression:"showShare"}})],1)},It=[],$t=function(){return window.axios.get("/apiv3/DayCover/getDayCover").catch((function(t){console.log(t)}))},Rt={data:function(){return{dayCoverData:null,showShare:!1,options:[{name:"微信",icon:"wechat"},{name:"微博",icon:"weibo"},{name:"复制链接",icon:"link"},{name:"分享海报",icon:"poster"},{name:"二维码",icon:"qrcode"}],iconImg:a.e("chunk-2d0b635c").then(a.t.bind(null,"1bd9",7))}},methods:{onSelect:function(t){Object(Q["a"])(t.name),this.showShare=!1},getDayCover:function(){var t=this,e=JSON.parse(window.localStorage.getItem("dayCoverData"));e&&e.expires>Date.now()?this.dayCoverData=e.data:$t().then((function(e){"ok"==e.data.msg&&(t.dayCoverData=e.data.data,window.localStorage.setItem("dayCoverData",JSON.stringify({expires:Date.now()+6e5,data:e.data.data})))}))},onClickBack:function(){this.$router.back()}},created:function(){this.getDayCover()}},Nt=Rt,Lt=(a("a011"),Object(v["a"])(Nt,jt,It,!1,null,"76ecd7a0",null)),Ht=Lt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("van-nav-bar",{attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("van-form",{on:{submit:t.onLogin}},[a("van-field",{attrs:{name:"name",label:"用户名",placeholder:"用户名只支持字母、汉字、数字、_组合",rules:[{pattern:t.patternName,required:!0,message:"请填写正确的格式"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码只支持字母、数字、_组合且首字符必须为字母",rules:[{pattern:t.patternPwd,required:!0,message:"请填写正确的格式"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("登录")])],1)],1),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:t.register}},[t._v("注册")])],1)],1)},qt=[],Gt={data:function(){return{username:"",password:"",patternName:/^[\w\u4e00-\u9fa5]{1,10}$/,patternPwd:/^[A-Za-z]\w{5,15}$/}},computed:Object(u["a"])({},Object(d["d"])({userData:function(t){return t.userData}})),methods:Object(u["a"])(Object(u["a"])({},Object(d["c"])([p["a"].USER_DATA,p["a"].USER])),{},{onClickLeft:function(){this.$router.back()},setUser:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(e)this.$store.commit(p["a"].USER,{data:e.data});else{var a={name:t,collection:[],seeHistory:[]};window.localStorage.setItem(t,JSON.stringify({data:a})),this.$store.commit(p["a"].USER,{data:a})}},onLogin:function(t){var e=this.userData.some((function(e){return e.name==t.name})),a=this.userData.some((function(e){return e.password==t.password}));e?a?(Object(rt["a"])("登录成功"),this.setUser(t.name),this.setCookie("_abc",JSON.stringify(t),10080),this.$router.back()):Object(rt["a"])("密码不正确"):Object(rt["a"])("该用户不存在")},register:function(){this.$router.push("/register")},setCookie:function(t,e,a){var i=new Date;i.setMinutes(i.getMinutes()+a),document.cookie=t+"="+e+";expires="+i.toUTCString()}}),created:function(){var t=JSON.parse(window.localStorage.getItem("userStorage"));t&&this.$store.commit(p["a"].USER_DATA,{data:t.data})}},Vt=Gt,Wt=(a("63e2"),Object(v["a"])(Vt,Pt,qt,!1,null,"5228c545",null)),Mt=Wt.exports,Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("van-nav-bar",{attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),a("van-form",{on:{submit:t.register}},[a("van-field",{attrs:{name:"name",label:"用户名",placeholder:"用户名只支持字母、汉字、数字、_组合",rules:[{pattern:t.patternName,required:!0,message:"请填写正确的格式"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码只支持字母、数字、_组合且首字符必须为字母",rules:[{pattern:t.patternPwd,required:!0,message:"请填写正确的格式"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("van-field",{attrs:{type:"password",name:"password",label:"确认密码",placeholder:"请输入密码",rules:[{validator:t.validator,required:!0,message:"请填写密码不一致"}]},model:{value:t.pwd2,callback:function(e){t.pwd2=e},expression:"pwd2"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("注册")])],1)],1)],1)},zt=[],Jt={data:function(){return{username:"",password:"",pwd2:"",patternName:/^[\w\u4e00-\u9fa5]{1,10}$/,patternPwd:/^[A-Za-z]\w{5,15}$/}},computed:{},methods:Object(u["a"])(Object(u["a"])({},Object(d["c"])([p["a"].USER_DATA])),{},{validator:function(t){return t==this.password},onClickLeft:function(){this.username="",this.password="",this.$router.back()},register:function(t){this.registerUser(t)&&(this.username="",this.password="",this.$router.back())},setUserDataFn:function(t){this.$store.commit(p["a"].USER_DATA,{data:t})},registerUser:function(t){var e=JSON.parse(window.localStorage.getItem("userStorage"));if(e){var a=e.data.some((function(e){return e.name==t.name}));return a?(Object(rt["a"])("账号已注册！"),!1):(e.data.push(t),window.localStorage.setItem("userStorage",JSON.stringify({data:e.data})),this.setUserDataFn(e.data),Object(rt["a"])("注册成功，请返回！"),!0)}return window.localStorage.setItem("userStorage",JSON.stringify({data:[t]})),this.setUserDataFn([t]),Object(rt["a"])("注册成功，请返回！"),!0}})},Ft=Jt,Yt=(a("7625"),Object(v["a"])(Ft,Ut,zt,!1,null,"053ba753",null)),Bt=Yt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user"},[i("van-nav-bar",{attrs:{title:"登录","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t.user?i("div",{staticClass:"me"},[i("img",{attrs:{src:a("71c4"),alt:""}}),i("div",{staticClass:"denglu"},[i("van-icon",{attrs:{size:"50px",name:"https://b.yzcdn.cn/vant/icon-demo-1126.png"}}),i("div",[t._v(t._s(t.user.name))])],1)]):t._e(),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{round:"",block:"",type:"info"},on:{click:t.signOut}},[t._v("退出登录")])],1)],1)},Xt=[],Zt={computed:Object(u["a"])({},Object(d["d"])({user:function(t){return t.user}})),methods:Object(u["a"])(Object(u["a"])({},Object(d["c"])([p["a"].USER_DATA,p["a"].USER])),{},{onClickLeft:function(){this.$router.back()},signOut:function(){this.$router.back(),this.$store.commit(p["a"].USER,{data:null})}})},Qt=Zt,te=(a("c886"),Object(v["a"])(Qt,Kt,Xt,!1,null,"5a9a8c88",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"history"},[a("van-nav-bar",{attrs:{title:"播放历史","left-text":"返回",fixed:!0,placeholder:!0,"left-arrow":""},on:{"click-left":t.onClickLeft}}),t._l(t.user.seeHistory,(function(t,e){return a("SmallCard",{key:e,attrs:{post:t}})}))],2)},ie=[],ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"smallcard",on:{click:function(e){return t.navigateToPlay(e)}}},[a("div",{staticClass:"img-box"},[a("van-image",{staticStyle:{width:"100%"},attrs:{"lazy-load":"",fit:"cover",src:t.post.image}})],1),a("div",{staticClass:"title-box"},[a("h4",{staticClass:"title"},[t._v(t._s(t.post.title))]),a("div",{staticClass:"score"},[a("van-rate",{attrs:{"allow-half":"","void-icon":"star",size:"14","void-color":"#eee",readonly:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "+t._s(t.post.rating)+" ")],1)])])},se=[],oe={props:{post:Object},methods:{navigateToPlay:function(t){for(var e,a=t.path[0],i=0;i<t.path.length;i++)"smallcard"==t.path[i].className&&(e=t.path[i]),t.path[i].scrollTop>0&&(a=t.path[i]);var n=a.scrollTop||0;this.$router.push({path:"play",query:{postid:this.post.postid,scrollTop:n,top:e.offsetTop-n,left:0,img:this.post.image}})}},data:function(){return{value:this.post.rating/2}}},re=oe,ce=(a("c52e"),Object(v["a"])(re,ne,se,!1,null,"c71497da",null)),le=ce.exports,ue={methods:{onClickLeft:function(){this.$router.back()}},computed:Object(u["a"])({},Object(d["d"])({user:function(t){return t.user}})),components:{SmallCard:le}},de=ue,pe=(a("f645"),Object(v["a"])(de,ae,ie,!1,null,"4f4fdedb",null)),he=pe.exports,fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"like"},[a("van-nav-bar",{attrs:{title:"我的喜欢","left-text":"返回",fixed:!0,placeholder:!0,"left-arrow":""},on:{"click-left":t.onClickLeft}}),t._l(t.user.collection,(function(t,e){return a("SmallCard",{key:e,attrs:{post:t}})}))],2)},me=[],ve={methods:{onClickLeft:function(){this.$router.back()}},computed:Object(u["a"])({},Object(d["d"])({user:function(t){return t.user}})),components:{SmallCard:le}},_e=ve,ge=(a("2a4b"),Object(v["a"])(_e,fe,me,!1,null,"5ad6eedc",null)),be=ge.exports;i["a"].use(b["a"]);var ye,we,Te=[{path:"/",name:"Home",meta:{isKeep:!0},component:H},{path:"/channel",name:"Channel",meta:{isKeep:!0},component:function(){return a.e("chunk-9fe773ac").then(a.bind(null,"92d6"))}},{path:"/profile",name:"Profile",component:Ct,children:[]},{path:"/play",name:"Play",component:it},{path:"/posts",name:"Posts",component:_t},{path:"/search",name:"Search",meta:{isKeep:!0},component:At},{path:"/dayCover",name:"DayCover",meta:{isKeep:!0},component:Ht},{path:"/login",name:"Login",component:Mt},{path:"/register",name:"Register",component:Bt},{path:"/user",name:"User",component:ee},{path:"/like",name:"Like",component:be},{path:"/history",name:"History",component:he}],Ce=new b["a"]({routes:Te}),Oe=Ce,Se=(a("4160"),a("a434"),a("5319"),a("159b"),a("ade3")),ke=function(){return window.axios.get("/apiv3/index/index").catch((function(t){console.log(t)}))},De=function(t){return window.axios.get(t).catch((function(t){console.log(t)}))},Ee=function(t){return window.axios.get("/apiv3/post/view?postid="+t).catch((function(t){console.log(t)}))},xe=function(){return window.axios.get("/apiv3/cate/getList").catch((function(t){console.log(t)}))},Ae=function(t){return window.axios.get(t).catch((function(t){console.log(t)}))},je=function(){return window.axios.get("/apiv3/search/index/kw").catch((function(t){console.log(t)}))},Ie=function(t){return window.axios.get("/apiv3/search?kw="+t).catch((function(t){console.log(t)}))},$e=function(t){return window.axios.get(t).catch((function(t){console.log(t)}))};i["a"].use(d["a"]);var Re=new d["a"].Store({state:{indexData:{},historyData:[],postView:{},channelData:{},postsData:{},hotWord:{},searchData:[],userData:[],user:null,collectionData:[],seeHistoryData:[]},mutations:(ye={},Object(Se["a"])(ye,p["a"].INIT_INDEX_DATA,(function(t,e){t.indexData=e.data})),Object(Se["a"])(ye,p["a"].GET_MORE_HISTORY_DATA,(function(t,e){t.historyData.push(e.data)})),Object(Se["a"])(ye,p["a"].GET_POSET_VIEW_DATA,(function(t,e){t.postView=e.data})),Object(Se["a"])(ye,p["a"].INIT_CHANNEL_DATA,(function(t,e){t.channelData=e.data})),Object(Se["a"])(ye,p["a"].GET_POSTS_DATA,(function(t,e){t.postsData=e.data})),Object(Se["a"])(ye,p["a"].GET_HOT_WORD_DATA,(function(t,e){t.hotWord=e.data})),Object(Se["a"])(ye,p["a"].GET_SEARCH_DETAILS,(function(t,e){t.searchData=[e.data]})),Object(Se["a"])(ye,p["a"].GET_SEARCH_DETAILS_MORE,(function(t,e){t.searchData.push(e.data)})),Object(Se["a"])(ye,p["a"].USER_DATA,(function(t,e){t.userData=e.data})),Object(Se["a"])(ye,p["a"].USER,(function(t,e){t.user=e.data})),Object(Se["a"])(ye,p["a"].SET_COLLECTION,(function(t,e){if(t.user){var a=t.user.collection.some((function(t){return t.postid==e.data.postid}));a?t.user.collection.forEach((function(a,i){a.postid!=e.data.postid||t.user.collection.splice(i,1)})):t.user.collection.push(e.data),window.localStorage.setItem(t.user.name,JSON.stringify({data:t.user}))}})),Object(Se["a"])(ye,p["a"].ADD_COLLECTION,(function(t,e){t.user.collection.push(e.data),window.localStorage.setItem(t.user.name,JSON.stringify({data:t.user}))})),Object(Se["a"])(ye,p["a"].SET_SEE_HISTORY,(function(t,e){if(t.user){var a=t.user.seeHistory.some((function(t){return t.postid==e.data.postid}));a&&t.user.seeHistory.forEach((function(a,i){a.postid!=e.data.postid||t.user.seeHistory.splice(i,1)})),t.user.seeHistory.unshift(e.data),window.localStorage.setItem(t.user.name,JSON.stringify({data:t.user}))}})),Object(Se["a"])(ye,p["a"].ADD_SEE_HISTORY,(function(t,e){t.user.seeHistory.push(e.data),window.localStorage.setItem(t.user.name,JSON.stringify({data:t.user}))})),ye),actions:(we={},Object(Se["a"])(we,p["a"].INIT_INDEX_DATA,(function(t,e){var a=JSON.parse(window.localStorage.getItem("indexData"));a&&a.expires>Date.now()?(t.commit(p["a"].INIT_INDEX_DATA,{data:a.data}),e()):ke().then((function(a){window.localStorage.setItem("indexData",JSON.stringify({expires:Date.now()+6e5,data:a.data.data})),t.commit(p["a"].INIT_INDEX_DATA,{data:a.data.data}),e()}))})),Object(Se["a"])(we,p["a"].GET_MORE_HISTORY_DATA,(function(t,e){var a=0===t.state.historyData.length?t.state.indexData.posts.next_page_url:t.state.historyData[t.state.historyData.length-1].next_page_url;De(a).then((function(a){e(t,a)}))})),Object(Se["a"])(we,p["a"].GET_POSET_VIEW_DATA,(function(t,e){Ee(e.id).then((function(a){e.callback(t,a)}))})),Object(Se["a"])(we,p["a"].INIT_CHANNEL_DATA,(function(t,e){var a=JSON.parse(window.localStorage.getItem("channelData"));a&&a.expires>Date.now()?(t.commit(p["a"].INIT_CHANNEL_DATA,{data:a.data}),e()):xe().then((function(a){a.data&&(window.localStorage.setItem("channelData",JSON.stringify({expires:Date.now()+6e5,data:a.data.data})),t.commit(p["a"].INIT_CHANNEL_DATA,{data:a.data.data}),e())}))})),Object(Se["a"])(we,p["a"].GET_POSTS_DATA,(function(t,e){var a=JSON.parse(window.localStorage.getItem("postsData"+e.recdata));a&&a.expires>Date.now()&&1==e.page?(t.commit(p["a"].GET_POSTS_DATA,{data:a.data}),e.callback(t,a.data)):Ae(e.url).then((function(a){a.data&&(1==e.page&&window.localStorage.setItem("postsData"+e.recdata,JSON.stringify({expires:Date.now()+6e5,data:a.data.data})),t.commit(p["a"].GET_POSTS_DATA,{data:a.data.data}),e.callback(t,a))}))})),Object(Se["a"])(we,p["a"].GET_HOT_WORD_DATA,(function(t){var e=JSON.parse(window.localStorage.getItem("hotWordData"));e&&e.expires>Date.now()?t.commit(p["a"].GET_HOT_WORD_DATA,{data:e.data}):je().then((function(e){console.log(e),e.data&&(window.localStorage.setItem("hotWordData",JSON.stringify({expires:Date.now()+6e5,data:e.data.data})),t.commit(p["a"].GET_HOT_WORD_DATA,{data:e.data.data}))}))})),Object(Se["a"])(we,p["a"].GET_SEARCH_DETAILS,(function(t,e){var a=e.more.replace(/\s*/g,"");Ie(a).then((function(a){console.log(a),e.callback(t,a)}))})),Object(Se["a"])(we,p["a"].GET_SEARCH_DETAILS_MORE,(function(t,e){var a=t.state.searchData[t.state.searchData.length-1].result.next_page_url;$e(a).then((function(a){e(t,a)}))})),we),modules:{}}),Ne=a("b970"),Le=(a("157a"),a("49cf")),He=a.n(Le),Pe=a("343b");a("f263"),a("a1f4"),i["a"].use(Pe["a"]),i["a"].use(He.a),i["a"].use(Ne["a"]),i["a"].config.productionTip=!1,new i["a"]({router:Oe,store:Re,render:function(t){return t(g)}}).$mount("#app")},6238:function(t,e,a){},6380:function(t,e,a){"use strict";e["a"]={INIT_INDEX_DATA:"INIT_INDEX_DATA",GET_MORE_HISTORY_DATA:"GET_MORE_HISTORY_DATA",GET_POSET_VIEW_DATA:"GET_POSET_VIEW_DATA",INIT_CHANNEL_DATA:"INIT_CHANNEL_DATA",GET_POSTS_DATA:"GET_POSTS_DATA",GET_HOT_WORD_DATA:"GET_HOT_WORD_DATA",GET_SEARCH_DETAILS:"GET_SEARCH_DETAILS",GET_SEARCH_DETAILS_MORE:"GET_SEARCH_DETAILS_MORE",USER_DATA:"USER_DATA",USER:"USER",SET_COLLECTION:"SET_COLLECTION",ADD_COLLECTION:"ADD_COLLECTION",SET_SEE_HISTORY:"SET_SEE_HISTORY",ADD_SEE_HISTORY:"ADD_SEE_HISTORY"}},"63e2":function(t,e,a){"use strict";var i=a("106b"),n=a.n(i);n.a},7062:function(t,e,a){"use strict";var i=a("b385"),n=a.n(i);n.a},"71c4":function(t,e,a){t.exports=a.p+"img/splash.52e44096.jpg"},7625:function(t,e,a){"use strict";var i=a("a121"),n=a.n(i);n.a},"7c55":function(t,e,a){"use strict";var i=a("2395"),n=a.n(i);n.a},"8a53":function(t,e,a){"use strict";var i=a("9a07"),n=a.n(i);n.a},9670:function(t,e,a){},"9a07":function(t,e,a){},a011:function(t,e,a){"use strict";var i=a("15e7"),n=a.n(i);n.a},a121:function(t,e,a){},a8c7:function(t,e,a){},b385:function(t,e,a){},c2ca:function(t,e,a){},c52e:function(t,e,a){"use strict";var i=a("22ba"),n=a.n(i);n.a},c886:function(t,e,a){"use strict";var i=a("35f0"),n=a.n(i);n.a},da72:function(t,e,a){"use strict";var i=a("45e9"),n=a.n(i);n.a},dc37:function(t,e,a){},e12a:function(t,e,a){"use strict";var i=a("9670"),n=a.n(i);n.a},e40d:function(t,e,a){},f645:function(t,e,a){"use strict";var i=a("c2ca"),n=a.n(i);n.a},f679:function(t,e,a){"use strict";var i=a("2f01"),n=a.n(i);n.a}});
//# sourceMappingURL=app.e23b64c5.js.map